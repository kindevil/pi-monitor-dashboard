import{p as t,a as e,o as a,c as s,b as o,t as d,u as n,i as l,d as i,e as c,f as r,F as u,r as m,g as h,h as v,j as b,k as p,l as y,m as x}from"./vendor.8c9f71f1.js";!function(t=".",e="__import__"){try{self[e]=new Function("u","return import(u)")}catch(a){const s=new URL(t,location),o=t=>{URL.revokeObjectURL(t.src),t.remove()};self[e]=t=>new Promise(((a,d)=>{const n=new URL(t,s);if(self[e].moduleMap[n])return a(self[e].moduleMap[n]);const l=new Blob([`import * as m from '${n}';`,`${e}.moduleMap['${n}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(l),onerror(){d(new Error(`Failed to import: ${t}`)),o(i)},onload(){a(self[e].moduleMap[n]),o(i)}});document.head.appendChild(i)})),self[e].moduleMap={}}}("/assets/");t("data-v-ffdff048"),e();const f={name:"Navbar"},w={class:"navbar"},k=o("section",{class:"navbar-section"},null,-1),g=o("section",{class:"navbar-center"},null,-1),C=o("section",{class:"navbar-section"},[o("a",{href:"https://pi-monitor.vovuo.com",target:"_blank",class:"btn btn-link"},"About")],-1);f.render=function(t,e,o,d,n,l){return a(),s("header",w,[k,g,C])};const S={name:"Info",props:{data:Object},watch:{data:function(t){}}},L={class:"card mt-5"},E=o("div",{class:"card-header"},[o("div",{class:"card-title h5"},"设备信息")],-1),O={class:"card-body"},F=o("dt",null,"主机名",-1),M=o("dt",null,"操作系统",-1),A=o("dt",null,"启动时间",-1),N=o("dt",null,"厂商",-1),D=o("dt",null,"硬件版本",-1),j=o("dt",null,"序列号",-1),B=o("dt",null,"内核信息",-1);S.render=function(t,e,n,l,i,c){return a(),s("div",L,[E,o("div",O,[o("dl",null,[F,o("dd",null,d(n.data.Hostname),1),M,o("dd",null,d(n.data.OS),1),A,o("dd",null,d(n.data.BootTime),1),N,o("dd",null,d(n.data.Vendor),1),D,o("dd",null,d(n.data.Model),1),j,o("dd",null,d(n.data.Serial),1),B,o("dd",null,d(n.data.Kernal),1)])])])},n([l,i]);const I={name:"CPU",props:{data:Object},data:()=>({chartDom:null,option:null}),methods:{noEmpty(){return 0!=Object.keys(this.data).length},chart(){this.chartDom=c(document.getElementById("cpu")),this.option={series:[{type:"gauge",startAngle:180,endAngle:0,min:0,max:100,splitNumber:10,itemStyle:{color:"#e85600"},progress:{show:!0,roundCap:!0,width:12},pointer:{icon:"path://M2090.36389,615.30999 L2090.36389,615.30999 C2091.48372,615.30999 2092.40383,616.194028 2092.44859,617.312956 L2096.90698,728.755929 C2097.05155,732.369577 2094.2393,735.416212 2090.62566,735.56078 C2090.53845,735.564269 2090.45117,735.566014 2090.36389,735.566014 L2090.36389,735.566014 C2086.74736,735.566014 2083.81557,732.63423 2083.81557,729.017692 C2083.81557,728.930412 2083.81732,728.84314 2083.82081,728.755929 L2088.2792,617.312956 C2088.32396,616.194028 2089.24407,615.30999 2090.36389,615.30999 Z",length:"62%",width:16,offsetCenter:[0,"5%"]},axisLine:{roundCap:!0,lineStyle:{width:12}},axisTick:{splitNumber:2,lineStyle:{width:2,color:"#999"}},splitLine:{length:12,lineStyle:{width:3,color:"#999"}},axisLabel:{distance:16,color:"#999",fontSize:14},title:{show:!1},detail:{backgroundColor:"#fff",borderColor:"#999",borderWidth:2,width:"70%",lineHeight:35,height:35,borderRadius:8,offsetCenter:[0,"65%"],valueAnimation:!0,formatter:function(t){return"{value|"+t.toFixed(1)+"}{unit|%}"},rich:{value:{fontSize:32,fontWeight:"bolder",color:"#777"},unit:{fontSize:16,color:"#999",padding:[0,0,-10,10]}}},data:[{value:0}]}]},this.chartDom.setOption(this.option)},toFixed:t=>t.toFixed(1)},mounted(){this.chart()},watch:{data:function(){this.option.series[0].data[0].value=this.data.Load.Percent,this.chartDom.setOption(this.option)}}},U={class:"card mt-5"},R=o("div",{class:"card-header"},[o("div",{class:"card-title h5"},"CPU")],-1),_=o("div",{class:"card-body"},[o("div",{id:"cpu",class:"chart"})],-1),P={class:"card-footer"},H={class:"columns"},T={class:"column col-4"},W={class:"text-center bg-error rounded"},z=o("div",{class:"text-bold"},"核心数",-1),$={key:0},q={class:"column col-4"},G={class:"text-center bg-error rounded"},K=o("div",{class:"text-bold"},"频率",-1),J={key:0},V={class:"column col-4"},Y={class:"text-center bg-error rounded"},Z=o("div",{class:"text-bold"},"温度",-1),Q={key:0},X={class:"columns bg-gray text-center mt-10 rounded"},tt={class:"column col-2"},et=o("div",{class:"text-bold"},"IDLE",-1),at={key:0},st={class:"column col-2"},ot=o("div",{class:"text-bold"},"USER",-1),dt={key:0},nt={class:"column col-2"},lt=o("div",{class:"text-bold"},"SYS",-1),it={key:0},ct={class:"column col-2"},rt=o("div",{class:"text-bold"},"NICE",-1),ut={key:0},mt={class:"column col-2"},ht=o("div",{class:"text-bold"},"IOW",-1),vt={key:0},bt={class:"column col-2"},pt=o("div",{class:"text-bold"},"IRQ",-1),yt={key:0};I.render=function(t,e,n,l,i,c){return a(),s("div",U,[R,_,o("div",P,[o("div",H,[o("div",T,[o("div",W,[z,c.noEmpty()?(a(),s("div",$,d(n.data.Cores),1)):r("",!0)])]),o("div",q,[o("div",G,[K,c.noEmpty()?(a(),s("div",J,d(n.data.Freq.Curfreq)+"MHz",1)):r("",!0)])]),o("div",V,[o("div",Y,[Z,c.noEmpty()?(a(),s("div",Q,d(n.data.Temp)+" C°",1)):r("",!0)])])]),o("div",X,[o("div",tt,[et,c.noEmpty()?(a(),s("div",at,d(c.toFixed(n.data.Load.Idle))+"%",1)):r("",!0)]),o("div",st,[ot,c.noEmpty()?(a(),s("div",dt,d(c.toFixed(n.data.Load.User))+"%",1)):r("",!0)]),o("div",nt,[lt,c.noEmpty()?(a(),s("div",it,d(c.toFixed(n.data.Load.Sys))+"%",1)):r("",!0)]),o("div",ct,[rt,c.noEmpty()?(a(),s("div",ut,d(c.toFixed(n.data.Load.Nice))+"%",1)):r("",!0)]),o("div",mt,[ht,c.noEmpty()?(a(),s("div",vt,d(c.toFixed(n.data.Load.Iowait))+"%",1)):r("",!0)]),o("div",bt,[pt,c.noEmpty()?(a(),s("div",yt,d(c.toFixed(n.data.Load.Irq))+"%",1)):r("",!0)])])])])},n([l,i]);const xt={name:"Memory",props:{data:Object},data:()=>({chartDom:null,option:null}),methods:{noEmpty(){return 0!=Object.keys(this.data).length},chart(){this.chartDom=c(document.getElementById("memory")),this.option={series:[{type:"gauge",startAngle:180,endAngle:0,min:0,max:100,splitNumber:10,itemStyle:{color:"#2463EB"},progress:{show:!0,roundCap:!0,width:12},pointer:{icon:"path://M2090.36389,615.30999 L2090.36389,615.30999 C2091.48372,615.30999 2092.40383,616.194028 2092.44859,617.312956 L2096.90698,728.755929 C2097.05155,732.369577 2094.2393,735.416212 2090.62566,735.56078 C2090.53845,735.564269 2090.45117,735.566014 2090.36389,735.566014 L2090.36389,735.566014 C2086.74736,735.566014 2083.81557,732.63423 2083.81557,729.017692 C2083.81557,728.930412 2083.81732,728.84314 2083.82081,728.755929 L2088.2792,617.312956 C2088.32396,616.194028 2089.24407,615.30999 2090.36389,615.30999 Z",length:"62%",width:16,offsetCenter:[0,"5%"]},axisLine:{roundCap:!0,lineStyle:{width:12}},axisTick:{splitNumber:2,lineStyle:{width:2,color:"#999"}},splitLine:{length:12,lineStyle:{width:3,color:"#999"}},axisLabel:{distance:16,color:"#999",fontSize:14},title:{show:!1},detail:{backgroundColor:"#fff",borderColor:"#999",borderWidth:2,width:"70%",lineHeight:35,height:35,borderRadius:8,offsetCenter:[0,"65%"],valueAnimation:!0,formatter:function(t){return"{value|"+t.toFixed(1)+"}{unit|%}"},rich:{value:{fontSize:32,fontWeight:"bolder",color:"#777"},unit:{fontSize:16,color:"#999",padding:[0,0,-10,10]}}},data:[{value:0}]}]},this.chartDom.setOption(this.option)}},mounted(){this.chart()},watch:{data:function(){this.option.series[0].data[0].value=this.data.UsedPercent,this.chartDom.setOption(this.option)}}},ft={class:"card mt-5"},wt=o("div",{class:"card-header"},[o("div",{class:"card-title h5"},"内存")],-1),kt=o("div",{class:"card-body"},[o("div",{id:"memory",class:"chart"})],-1),gt={class:"card-footer"},Ct={class:"columns"},St={class:"column col-4"},Lt={class:"text-center bg-blue rounded"},Et=o("div",{class:"text-bold"},"总共",-1),Ot={key:0},Ft={class:"column col-4"},Mt={class:"text-center bg-blue rounded"},At=o("div",{class:"text-bold"},"已使用",-1),Nt={key:0},Dt={class:"column col-4"},jt={class:"text-center bg-blue rounded"},Bt=o("div",{class:"text-bold"},"未使用",-1),It={key:0},Ut={class:"columns bg-gray text-center mt-10 rounded"},Rt={class:"column col-3"},_t=o("div",{class:"text-bold"},"SHARED",-1),Pt={key:0},Ht={class:"column col-3"},Tt=o("div",{class:"text-bold"},"CACHE",-1),Wt={key:0},zt={class:"column col-3"},$t=o("div",{class:"text-bold"},"AVAILABLE",-1),qt={key:0},Gt={class:"column col-3"},Kt=o("div",{class:"text-bold"},"SWAP",-1),Jt={key:0};xt.render=function(t,e,n,l,i,c){return a(),s("div",ft,[wt,kt,o("div",gt,[o("div",Ct,[o("div",St,[o("div",Lt,[Et,c.noEmpty()?(a(),s("div",Ot,d(n.data.Total)+"MB",1)):r("",!0)])]),o("div",Ft,[o("div",Mt,[At,c.noEmpty()?(a(),s("div",Nt,d(n.data.Used)+"MB",1)):r("",!0)])]),o("div",Dt,[o("div",jt,[Bt,c.noEmpty()?(a(),s("div",It,d(n.data.Free)+"MB",1)):r("",!0)])])]),o("div",Ut,[o("div",Rt,[_t,c.noEmpty()?(a(),s("div",Pt,d(n.data.Shared),1)):r("",!0)]),o("div",Ht,[Tt,c.noEmpty()?(a(),s("div",Wt,d(n.data.Cached),1)):r("",!0)]),o("div",zt,[$t,c.noEmpty()?(a(),s("div",qt,d(n.data.Available),1)):r("",!0)]),o("div",Gt,[Kt,c.noEmpty()?(a(),s("div",Jt,d(n.data.SwapTotal-n.data.SwapFree)+" / "+d(n.data.SwapTotal),1)):r("",!0)])])])])};const Vt={name:"Disk",props:{data:Object},methods:{noEmpty(){return 0!=Object.keys(this.data).length},toFixed:t=>t.toFixed(1)},watch:{}},Yt={class:"card mt-5 mb-10"},Zt=o("div",{class:"card-header"},[o("div",{class:"card-title h5"},"设备分区")],-1),Qt={class:"card-body"},Xt={class:"table"},te=o("thead",null,[o("tr",null,[o("th",null,"设备"),o("th",null,"挂载点"),o("th",null,"容量")])],-1),ee={class:"columns"},ae={class:"column col-8"},se={class:"bar"},oe={class:"column col-4"},de={class:"label label-success"};Vt.render=function(t,e,n,l,i,c){return a(),s("div",Yt,[Zt,o("div",Qt,[o("table",Xt,[te,(a(!0),s(u,null,m(n.data,(t=>(a(),s("tbody",null,[o("tr",null,[o("td",null,d(t.Name),1),o("td",null,d(t.Mountpoint),1),o("td",null,[o("div",ee,[o("div",ae,[o("div",se,[o("div",{class:"bar-item ",style:{width:t.UsedPercent+"%"}},d(c.toFixed(t.UsedPercent))+"%",5)])]),o("div",oe,[o("span",de,d(t.Used)+" / "+d(t.Total),1)])])])])])))),256))])])])},n([h,v,b,p,i]);const ne={name:"Netdev",props:{data:Object},data(){return{chartDom:null,option:null,now:+new Date,oneDay:864e5,value:1e3*Math.random(),dynamicId:"network-"+this.data.Name,in_data:new Array,out_data:new Array}},methods:{chart(){this.chartDom=c(document.getElementById("network-"+this.data.Name)),this.option={title:{text:"网卡 - "+this.data.Name},tooltip:{trigger:"axis",formatter:function(t){return console.log(t),t},axisPointer:{animation:!0}},xAxis:{name:"时间",type:"time",splitLine:{show:!0},maxInterval:36e5},yAxis:{name:"流量",type:"value",boundaryGap:[0,"100%"],splitLine:{show:!0},axisLabel:{formatter:function(t,e){return t<0?"0B":t<1024?(t/=1).toFixed(1)+"B":t<1048576?(t/=1024).toFixed(1)+"KB":t<1048576e3?(t/=1048576).toFixed(1)+"MB":(t/=1048576e3).toFixed(1)+"GB"}}},series:[{name:"流入",type:"line",showSymbol:!1,hoverAnimation:!1,smooth:!0,data:this.in_data},{name:"流出",type:"line",showSymbol:!1,hoverAnimation:!1,smooth:!0,data:this.out_data}]},this.chartDom.setOption(this.option)},bytesRound(t,e){if(t<0)var a="0B/s";else if(t<1024)a=(t/=1).toFixed(1)+"B/s";else if(t<1048576)a=(t/=1024).toFixed(1)+"KB/s";else if(t<1048576e3)a=(t/=1048576).toFixed(1)+"MB/s";else a=(t/=1048576e3).toFixed(1)+"GB/s";return a}},mounted(){this.chart()},watch:{data:function(){var t=new Date,e=t.getFullYear()+"-"+t.getMonth()+"-"+t.getDay()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds();this.in_data.push([e,this.data.Recv]),this.out_data.push([e,this.data.Send]),this.in_data.length>=600&&(this.in_data.shift(),this.out_data.shift()),this.chartDom.setOption(this.option)}}},le={class:"mb-10"},ie={class:"columns bg-gray"},ce={class:"column col-3 text-center rounded"},re=o("div",{class:"text-tiny text-bold"},"流入",-1),ue={class:"column col-3 text-center rounded"},me=o("div",{class:"text-tiny text-bold"},"流出",-1),he={class:"column col-3 text-center rounded"},ve=o("div",{class:"text-tiny text-bold"},"IP地址",-1),be={class:"column col-3 text-center rounded"},pe=o("div",{class:"text-tiny text-bold"},"MAC地址",-1);ne.render=function(t,e,n,l,i,c){return a(),s("div",le,[o("div",{id:i.dynamicId,class:"chart"},null,8,["id"]),o("div",ie,[o("div",ce,[re,o("div",null,d(c.bytesRound(this.data.Recv)),1)]),o("div",ue,[me,o("div",null,d(c.bytesRound(this.data.Send)),1)]),o("div",he,[ve,(a(!0),s(u,null,m(this.data.Addrs,(t=>(a(),s("div",null,[o("div",null,d(t.addr),1)])))),256))]),o("div",be,[pe,o("div",null,d(this.data.HardwareAddr),1)])])])};const ye={name:"Network",components:{Netdev:ne},props:{data:Object},methods:{html(){for(var t=0;t<this.data.length;t++){var e=document.getElementById("netdev");e.innerHTML+='<div id="network-'+this.data[t].Name+'">',e.innerHTML+="<Netdev />",e.innerHTML+="</div>"}}}},xe={class:"card mt-5 mb-10"},fe=o("div",{class:"card-header"},[o("div",{class:"card-title h5"},"网络设备")],-1),we={class:"card-body"};ye.render=function(t,e,d,n,l,i){const c=y("Netdev");return a(),s("div",xe,[fe,o("div",we,[(a(!0),s(u,null,m(d.data,(t=>(a(),s("div",null,[o(c,{data:t},null,8,["data"])])))),256))])])};const ke={name:"App",components:{Navbar:f,Info:S,CPU:I,Memory:xt,Disk:Vt,Network:ye},data:()=>({websock:null,data:Object,host:Object,cpu:Object,memory:Object,disk:Object,network:Object}),created(){this.initWebSocket()},unmounted(){this.websock.close()},methods:{initWebSocket(){this.websock=new WebSocket("ws://10.168.1.83:4000/ws"),this.websock.onmessage=this.websocketonmessage,this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onclose=this.websocketclose},websocketonopen(){this.websocketsend(JSON.stringify({test:"12345"}))},websocketonerror(){this.initWebSocket()},websocketonmessage(t){this.data=JSON.parse(t.data),this.host=this.data.Host,this.cpu=this.data.CPU,this.memory=this.data.Memory,this.disk=this.data.Disks,this.network=this.data.NetDev},websocketsend(t){this.websock.send(t)},websocketclose(t){console.log("断开连接",t)},notEmpty:t=>Object.keys(t).length>0}},ge={class:"container grid-xl"},Ce={class:"main"},Se={class:"columns"},Le={class:"column col-3 col-md-12"},Ee={class:"column col-9 col-md-12"},Oe={class:"columns"},Fe={class:"column col-6 col-sm-12"},Me={class:"column col-6 col-sm-12"},Ae={class:"disk"},Ne={key:0,class:"network"};ke.render=function(t,e,d,n,l,i){const c=y("Navbar"),m=y("Info"),h=y("CPU"),v=y("Memory"),b=y("Disk"),p=y("Network");return a(),s(u,null,[o(c),o("div",ge,[o("div",Ce,[o("div",Se,[o("div",Le,[o(m,{data:l.host},null,8,["data"])]),o("div",Ee,[o("div",Oe,[o("div",Fe,[o(h,{data:l.cpu},null,8,["data"])]),o("div",Me,[o(v,{data:l.memory},null,8,["data"])])])])]),o("div",Ae,[o(b,{data:l.disk},null,8,["data"])]),i.notEmpty(l.network)?(a(),s("div",Ne,[o(p,{data:l.network},null,8,["data"])])):r("",!0)])])],64)};x(ke).mount("#app");
