import{p as t,a as e,o as a,c as s,b as o,d,t as i,u as n,i as l,e as c,f as r,g as u,F as m,r as h,h as v,j as b,k as p,l as y,m as x,n as f}from"./vendor.566c9f64.js";!function(t=".",e="__import__"){try{self[e]=new Function("u","return import(u)")}catch(a){const s=new URL(t,location),o=t=>{URL.revokeObjectURL(t.src),t.remove()};self[e]=t=>new Promise(((a,d)=>{const i=new URL(t,s);if(self[e].moduleMap[i])return a(self[e].moduleMap[i]);const n=new Blob([`import * as m from '${i}';`,`${e}.moduleMap['${i}']=m;`],{type:"text/javascript"}),l=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(n),onerror(){d(new Error(`Failed to import: ${t}`)),o(l)},onload(){a(self[e].moduleMap[i]),o(l)}});document.head.appendChild(l)})),self[e].moduleMap={}}}("/assets/");t("data-v-ffdff048"),e();const w={name:"Navbar"},k={class:"navbar"},g=o('<section class="navbar-section"><a href="#" class="btn btn-link">Docs</a><a href="#" class="btn btn-link">Examples</a></section><section class="navbar-center"></section><section class="navbar-section"><a href="#" class="btn btn-link">Twitter</a><a href="#" class="btn btn-link">GitHub</a></section>',3);w.render=function(t,e,o,d,i,n){return a(),s("header",k,[g])};const C={name:"Info",props:{data:Object},watch:{data:function(t){}}},S={class:"card mt-5"},L=d("div",{class:"card-header"},[d("div",{class:"card-title h5"},"设备信息"),d("div",{class:"card-subtitle text-gray"}," IP地址: 192.168.1.32 ")],-1),E={class:"card-body"},O=d("dt",null,"主机名",-1),F=d("dt",null,"操作系统",-1),M=d("dt",null,"启动时间",-1),D=d("dt",null,"厂商",-1),N=d("dt",null,"硬件版本",-1),A=d("dt",null,"序列号",-1),j=d("dt",null,"内核信息",-1);C.render=function(t,e,o,n,l,c){return a(),s("div",S,[L,d("div",E,[d("dl",null,[O,d("dd",null,i(o.data.Hostname),1),F,d("dd",null,i(o.data.OS),1),M,d("dd",null,i(o.data.BootTime),1),D,d("dd",null,i(o.data.Vendor),1),N,d("dd",null,i(o.data.Model),1),A,d("dd",null,i(o.data.Serial),1),j,d("dd",null,i(o.data.Kernal),1)])])])},n([l,c]);const I={name:"CPU",props:{data:Object},data:()=>({chartDom:null,option:null}),methods:{noEmpty(){return 0!=Object.keys(this.data).length},chart(){this.chartDom=r(document.getElementById("cpu")),this.option={series:[{type:"gauge",startAngle:180,endAngle:0,min:0,max:100,splitNumber:10,itemStyle:{color:"#e85600"},progress:{show:!0,roundCap:!0,width:12},pointer:{icon:"path://M2090.36389,615.30999 L2090.36389,615.30999 C2091.48372,615.30999 2092.40383,616.194028 2092.44859,617.312956 L2096.90698,728.755929 C2097.05155,732.369577 2094.2393,735.416212 2090.62566,735.56078 C2090.53845,735.564269 2090.45117,735.566014 2090.36389,735.566014 L2090.36389,735.566014 C2086.74736,735.566014 2083.81557,732.63423 2083.81557,729.017692 C2083.81557,728.930412 2083.81732,728.84314 2083.82081,728.755929 L2088.2792,617.312956 C2088.32396,616.194028 2089.24407,615.30999 2090.36389,615.30999 Z",length:"62%",width:16,offsetCenter:[0,"5%"]},axisLine:{roundCap:!0,lineStyle:{width:12}},axisTick:{splitNumber:2,lineStyle:{width:2,color:"#999"}},splitLine:{length:12,lineStyle:{width:3,color:"#999"}},axisLabel:{distance:16,color:"#999",fontSize:14},title:{show:!1},detail:{backgroundColor:"#fff",borderColor:"#999",borderWidth:2,width:"70%",lineHeight:35,height:35,borderRadius:8,offsetCenter:[0,"65%"],valueAnimation:!0,formatter:function(t){return"{value|"+t.toFixed(1)+"}{unit|%}"},rich:{value:{fontSize:32,fontWeight:"bolder",color:"#777"},unit:{fontSize:16,color:"#999",padding:[0,0,-10,10]}}},data:[{value:0}]}]},this.chartDom.setOption(this.option)},toFixed:t=>t.toFixed(1)},mounted(){this.chart()},watch:{data:function(){this.option.series[0].data[0].value=this.data.Load.Percent,this.chartDom.setOption(this.option)}}},B={class:"card mt-5"},U=o('<div class="card-header"><div class="card-title h5">CPU</div><div class="card-subtitle text-gray"> IP地址: 192.168.1.32 </div></div><div class="card-body"><div id="cpu" class="chart"></div></div>',2),P={class:"card-footer"},R={class:"columns"},H={class:"column col-4"},_={class:"text-center bg-error rounded"},T=d("div",{class:"text-bold"},"核心数",-1),W={key:0},z={class:"column col-4"},G={class:"text-center bg-error rounded"},$=d("div",{class:"text-bold"},"频率",-1),q={key:0},K={class:"column col-4"},J={class:"text-center bg-error rounded"},V=d("div",{class:"text-bold"},"温度",-1),Y={key:0},Z={class:"columns bg-gray text-center mt-10 rounded"},Q={class:"column col-2"},X=d("div",{class:"text-bold"},"IDLE",-1),tt={key:0},et={class:"column col-2"},at=d("div",{class:"text-bold"},"USER",-1),st={key:0},ot={class:"column col-2"},dt=d("div",{class:"text-bold"},"SYS",-1),it={key:0},nt={class:"column col-2"},lt=d("div",{class:"text-bold"},"NICE",-1),ct={key:0},rt={class:"column col-2"},ut=d("div",{class:"text-bold"},"IOW",-1),mt={key:0},ht={class:"column col-2"},vt=d("div",{class:"text-bold"},"IRQ",-1),bt={key:0};I.render=function(t,e,o,n,l,c){return a(),s("div",B,[U,d("div",P,[d("div",R,[d("div",H,[d("div",_,[T,c.noEmpty()?(a(),s("div",W,i(o.data.Cores),1)):u("",!0)])]),d("div",z,[d("div",G,[$,c.noEmpty()?(a(),s("div",q,i(o.data.Freq.Curfreq)+"MHz",1)):u("",!0)])]),d("div",K,[d("div",J,[V,c.noEmpty()?(a(),s("div",Y,i(o.data.Temp)+" C°",1)):u("",!0)])])]),d("div",Z,[d("div",Q,[X,c.noEmpty()?(a(),s("div",tt,i(c.toFixed(o.data.Load.Idle))+"%",1)):u("",!0)]),d("div",et,[at,c.noEmpty()?(a(),s("div",st,i(c.toFixed(o.data.Load.User))+"%",1)):u("",!0)]),d("div",ot,[dt,c.noEmpty()?(a(),s("div",it,i(c.toFixed(o.data.Load.Sys))+"%",1)):u("",!0)]),d("div",nt,[lt,c.noEmpty()?(a(),s("div",ct,i(c.toFixed(o.data.Load.Nice))+"%",1)):u("",!0)]),d("div",rt,[ut,c.noEmpty()?(a(),s("div",mt,i(c.toFixed(o.data.Load.Iowait))+"%",1)):u("",!0)]),d("div",ht,[vt,c.noEmpty()?(a(),s("div",bt,i(c.toFixed(o.data.Load.Irq))+"%",1)):u("",!0)])])])])},n([l,c]);const pt={name:"Memory",props:{data:Object},data:()=>({chartDom:null,option:null}),methods:{noEmpty(){return 0!=Object.keys(this.data).length},chart(){this.chartDom=r(document.getElementById("memory")),this.option={series:[{type:"gauge",startAngle:180,endAngle:0,min:0,max:100,splitNumber:10,itemStyle:{color:"#2463EB"},progress:{show:!0,roundCap:!0,width:12},pointer:{icon:"path://M2090.36389,615.30999 L2090.36389,615.30999 C2091.48372,615.30999 2092.40383,616.194028 2092.44859,617.312956 L2096.90698,728.755929 C2097.05155,732.369577 2094.2393,735.416212 2090.62566,735.56078 C2090.53845,735.564269 2090.45117,735.566014 2090.36389,735.566014 L2090.36389,735.566014 C2086.74736,735.566014 2083.81557,732.63423 2083.81557,729.017692 C2083.81557,728.930412 2083.81732,728.84314 2083.82081,728.755929 L2088.2792,617.312956 C2088.32396,616.194028 2089.24407,615.30999 2090.36389,615.30999 Z",length:"62%",width:16,offsetCenter:[0,"5%"]},axisLine:{roundCap:!0,lineStyle:{width:12}},axisTick:{splitNumber:2,lineStyle:{width:2,color:"#999"}},splitLine:{length:12,lineStyle:{width:3,color:"#999"}},axisLabel:{distance:16,color:"#999",fontSize:14},title:{show:!1},detail:{backgroundColor:"#fff",borderColor:"#999",borderWidth:2,width:"70%",lineHeight:35,height:35,borderRadius:8,offsetCenter:[0,"65%"],valueAnimation:!0,formatter:function(t){return"{value|"+t.toFixed(1)+"}{unit|%}"},rich:{value:{fontSize:32,fontWeight:"bolder",color:"#777"},unit:{fontSize:16,color:"#999",padding:[0,0,-10,10]}}},data:[{value:0}]}]},this.chartDom.setOption(this.option)}},mounted(){this.chart()},watch:{data:function(){this.option.series[0].data[0].value=this.data.UsedPercent,this.chartDom.setOption(this.option)}}},yt={class:"card mt-5"},xt=o('<div class="card-header"><div class="card-title h5">内存</div><div class="card-subtitle text-gray"> IP地址: 192.168.1.32 </div></div><div class="card-body"><div id="memory" class="chart"></div></div>',2),ft={class:"card-footer"},wt={class:"columns"},kt={class:"column col-4"},gt={class:"text-center bg-blue rounded"},Ct=d("div",{class:"text-bold"},"总共",-1),St={key:0},Lt={class:"column col-4"},Et={class:"text-center bg-blue rounded"},Ot=d("div",{class:"text-bold"},"已使用",-1),Ft={key:0},Mt={class:"column col-4"},Dt={class:"text-center bg-blue rounded"},Nt=d("div",{class:"text-bold"},"未使用",-1),At={key:0},jt={class:"columns bg-gray text-center mt-10 rounded"},It={class:"column col-3"},Bt=d("div",{class:"text-bold"},"SHARED",-1),Ut={key:0},Pt={class:"column col-3"},Rt=d("div",{class:"text-bold"},"CACHE",-1),Ht={key:0},_t={class:"column col-3"},Tt=d("div",{class:"text-bold"},"AVAILABLE",-1),Wt={key:0},zt={class:"column col-3"},Gt=d("div",{class:"text-bold"},"SWAP",-1),$t={key:0};pt.render=function(t,e,o,n,l,c){return a(),s("div",yt,[xt,d("div",ft,[d("div",wt,[d("div",kt,[d("div",gt,[Ct,c.noEmpty()?(a(),s("div",St,i(o.data.Total)+"MB",1)):u("",!0)])]),d("div",Lt,[d("div",Et,[Ot,c.noEmpty()?(a(),s("div",Ft,i(o.data.Used)+"MB",1)):u("",!0)])]),d("div",Mt,[d("div",Dt,[Nt,c.noEmpty()?(a(),s("div",At,i(o.data.Free)+"MB",1)):u("",!0)])])]),d("div",jt,[d("div",It,[Bt,c.noEmpty()?(a(),s("div",Ut,i(o.data.Shared),1)):u("",!0)]),d("div",Pt,[Rt,c.noEmpty()?(a(),s("div",Ht,i(o.data.Cached),1)):u("",!0)]),d("div",_t,[Tt,c.noEmpty()?(a(),s("div",Wt,i(o.data.Available),1)):u("",!0)]),d("div",zt,[Gt,c.noEmpty()?(a(),s("div",$t,i(o.data.SwapTotal-o.data.SwapFree)+" / "+i(o.data.SwapTotal),1)):u("",!0)])])])])};const qt={name:"Disk",props:{data:Object},methods:{noEmpty(){return 0!=Object.keys(this.data).length},toFixed:t=>t.toFixed(1)},watch:{}},Kt={class:"card mt-5 mb-10"},Jt=d("div",{class:"card-header"},[d("div",{class:"card-title h5"},"设备分区")],-1),Vt={class:"card-body"},Yt={class:"table"},Zt=d("thead",null,[d("tr",null,[d("th",null,"设备"),d("th",null,"挂载点"),d("th",null,"容量")])],-1),Qt={class:"columns"},Xt={class:"column col-8"},te={class:"bar"},ee={class:"column col-4"},ae={class:"label label-success"};qt.render=function(t,e,o,n,l,c){return a(),s("div",Kt,[Jt,d("div",Vt,[d("table",Yt,[Zt,(a(!0),s(m,null,h(o.data,(t=>(a(),s("tbody",null,[d("tr",null,[d("td",null,i(t.Name),1),d("td",null,i(t.Mountpoint),1),d("td",null,[d("div",Qt,[d("div",Xt,[d("div",te,[d("div",{class:"bar-item ",style:{width:t.UsedPercent+"%"}},i(c.toFixed(t.UsedPercent))+"%",5)])]),d("div",ee,[d("span",ae,i(t.Used)+" / "+i(t.Total),1)])])])])])))),256))])])])},n([v,b,p,y,c]);const se={name:"Netdev",props:{data:Object},data(){return{chartDom:null,option:null,now:+new Date,oneDay:864e5,value:1e3*Math.random(),dynamicId:"network-"+this.data.Name,in_data:new Array,out_data:new Array}},methods:{chart(){this.chartDom=r(document.getElementById("network-"+this.data.Name)),this.option={title:{text:"网卡 - "+this.data.Name},tooltip:{trigger:"axis",formatter:function(t){return console.log(t),t},axisPointer:{animation:!0}},xAxis:{name:"时间",type:"time",splitLine:{show:!0},maxInterval:36e5},yAxis:{name:"流量",type:"value",boundaryGap:[0,"100%"],splitLine:{show:!0},axisLabel:{formatter:function(t,e){return t<0?"0B":t<1024?(t/=1).toFixed(1)+"B":t<1048576?(t/=1024).toFixed(1)+"KB":t<1048576e3?(t/=1048576).toFixed(1)+"MB":(t/=1048576e3).toFixed(1)+"GB"}}},series:[{name:"流入",type:"line",showSymbol:!1,hoverAnimation:!1,smooth:!0,data:this.in_data},{name:"流出",type:"line",showSymbol:!1,hoverAnimation:!1,smooth:!0,data:this.out_data}]},this.chartDom.setOption(this.option)},bytesRound(t,e){if(t<0)var a="0B/s";else if(t<1024)a=(t/=1).toFixed(1)+"B/s";else if(t<1048576)a=(t/=1024).toFixed(1)+"KB/s";else if(t<1048576e3)a=(t/=1048576).toFixed(1)+"MB/s";else a=(t/=1048576e3).toFixed(1)+"GB/s";return a}},mounted(){this.chart()},watch:{data:function(){var t=new Date,e=t.getFullYear()+"-"+t.getMonth()+"-"+t.getDay()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds();this.in_data.push([e,this.data.Recv]),this.out_data.push([e,this.data.Send]),this.in_data.length>=600&&(this.in_data.shift(),this.out_data.shift()),this.chartDom.setOption(this.option)}}},oe={class:"mb-10"},de={class:"columns bg-gray"},ie={class:"column col-3 text-center rounded"},ne=d("div",{class:"text-tiny text-bold"},"流入",-1),le={class:"column col-3 text-center rounded"},ce=d("div",{class:"text-tiny text-bold"},"流出",-1),re={class:"column col-3 text-center rounded"},ue=d("div",{class:"text-tiny text-bold"},"IP地址",-1),me={class:"column col-3 text-center rounded"},he=d("div",{class:"text-tiny text-bold"},"MAC地址",-1);se.render=function(t,e,o,n,l,c){return a(),s("div",oe,[d("div",{id:l.dynamicId,class:"chart"},null,8,["id"]),d("div",de,[d("div",ie,[ne,d("div",null,i(c.bytesRound(this.data.Recv)),1)]),d("div",le,[ce,d("div",null,i(c.bytesRound(this.data.Send)),1)]),d("div",re,[ue,(a(!0),s(m,null,h(this.data.Addrs,(t=>(a(),s("div",null,[d("div",null,i(t.addr),1)])))),256))]),d("div",me,[he,d("div",null,i(this.data.HardwareAddr),1)])])])};const ve={name:"Network",components:{Netdev:se},props:{data:Object},methods:{html(){for(var t=0;t<this.data.length;t++){var e=document.getElementById("netdev");e.innerHTML+='<div id="network-'+this.data[t].Name+'">',e.innerHTML+="<Netdev />",e.innerHTML+="</div>"}}}},be={class:"card mt-5 mb-10"},pe=d("div",{class:"card-header"},[d("div",{class:"card-title h5"},"网络设备")],-1),ye={class:"card-body"};ve.render=function(t,e,o,i,n,l){const c=x("Netdev");return a(),s("div",be,[pe,d("div",ye,[(a(!0),s(m,null,h(o.data,(t=>(a(),s("div",null,[d(c,{data:t},null,8,["data"])])))),256))])])};const xe={name:"App",components:{Navbar:w,Info:C,CPU:I,Memory:pt,Disk:qt,Network:ve},data:()=>({websock:null,data:Object,host:Object,cpu:Object,memory:Object,disk:Object,network:Object}),created(){this.initWebSocket()},unmounted(){this.websock.close()},methods:{initWebSocket(){this.websock=new WebSocket("ws://10.168.1.83:4000/ws"),this.websock.onmessage=this.websocketonmessage,this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onclose=this.websocketclose},websocketonopen(){this.websocketsend(JSON.stringify({test:"12345"}))},websocketonerror(){this.initWebSocket()},websocketonmessage(t){this.data=JSON.parse(t.data),this.host=this.data.Host,this.cpu=this.data.CPU,this.memory=this.data.Memory,this.disk=this.data.Disks,this.network=this.data.NetDev},websocketsend(t){this.websock.send(t)},websocketclose(t){console.log("断开连接",t)},notEmpty:t=>Object.keys(t).length>0}},fe={class:"container grid-xl"},we={class:"main"},ke={class:"columns"},ge={class:"column col-3 col-md-12"},Ce={class:"column col-9 col-md-12"},Se={class:"columns"},Le={class:"column col-6 col-sm-12"},Ee={class:"column col-6 col-sm-12"},Oe={class:"disk"},Fe={key:0,class:"network"};xe.render=function(t,e,o,i,n,l){const c=x("Navbar"),r=x("Info"),h=x("CPU"),v=x("Memory"),b=x("Disk"),p=x("Network");return a(),s(m,null,[d(c),d("div",fe,[d("div",we,[d("div",ke,[d("div",ge,[d(r,{data:n.host},null,8,["data"])]),d("div",Ce,[d("div",Se,[d("div",Le,[d(h,{data:n.cpu},null,8,["data"])]),d("div",Ee,[d(v,{data:n.memory},null,8,["data"])])])])]),d("div",Oe,[d(b,{data:n.disk},null,8,["data"])]),l.notEmpty(n.network)?(a(),s("div",Fe,[d(p,{data:n.network},null,8,["data"])])):u("",!0)])])],64)};f(xe).mount("#app");
